#include QMK_KEYBOARD_H
#include "harmonicoscillator.c"

#ifdef OLED_ENABLE
//**************************************************
//* PLACE THESE VARIABLE DEFS AT BEGINNING OF FILE *
//**************************************************
#define ANIM_SIZE 512 // number of bytes in array, max is 1024 (minimize where possible)
#define IDLE_FRAMES 34 //number of total frames

//********************************************
//* Compression ratio:      2.801 to 1      *
//* Estimated PROGMEM Usage: 6216 bytes      *
//********************************************
static const char PROGMEM frame[ANIM_SIZE] = {
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x8E, 0x40, 0x9F, 0x00, 0x80, 0x60, 0x10, 0x20,
        0x40, 0x40, 0x40, 0x20, 0x10, 0x60, 0x80, 0x00, 0x98, 0x40, 0x9E, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x0C, 0xF1, 0x0E, 0x01, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x0E, 0xF1, 0x0C, 0x03, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7F, 0x80, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x7F, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x01, 0x02, 0x02, 0x04, 0x04, 0x1F, 0x20, 0x4F, 0x54, 0x54, 0x4A, 0x32, 0x01, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC,
        0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC,
        0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF,
};

static const uint16_t PROGMEM cumsum_inds[IDLE_FRAMES+1] = {
        0, 64, 126, 194, 260, 324, 391, 459, 527, 594, 660, 724, 790, 861, 924,
        995, 1062, 1127, 1198, 1250, 1269, 1307, 1361, 1417, 1466, 1534, 1594, 1655, 1712, 1760,
        1794, 1820, 1830, 1834, 1878,
};

static const uint16_t PROGMEM change_inds[1878] = {
        7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 23,
        24, 25, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51,
        52, 53, 54, 55, 56, 57, 72, 73, 87, 88, 104, 105, 106, 107, 108,
        109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 143, 144, 145,
        146, 147, 148, 149, 7, 9, 23, 25, 39, 40, 41, 42, 43, 44, 45,
        46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 71, 72, 73,
        74, 75, 85, 86, 87, 88, 89, 104, 105, 106, 107, 108, 109, 110, 111,
        113, 114, 115, 116, 117, 118, 119, 120, 138, 139, 140, 141, 142, 143, 144,
        145, 146, 147, 148, 149, 150, 7, 9, 23, 25, 39, 40, 41, 43, 44,
        45, 46, 47, 48, 49, 50, 51, 52, 53, 55, 56, 57, 71, 72, 73,
        74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88,
        89, 104, 105, 119, 120, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145,
        146, 147, 148, 149, 150, 151, 152, 175, 176, 177, 178, 179, 180, 181, 9,
        25, 55, 57, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82,
        83, 84, 85, 86, 87, 88, 89, 103, 104, 105, 106, 107, 117, 118, 119,
        120, 121, 136, 137, 138, 139, 140, 141, 142, 143, 145, 146, 147, 148, 149,
        150, 151, 152, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181,
        182, 208, 209, 210, 211, 25, 39, 55, 71, 72, 73, 75, 76, 77, 78,
        79, 80, 81, 82, 83, 84, 85, 87, 88, 89, 103, 104, 105, 106, 107,
        108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 136,
        137, 151, 152, 168, 169, 170, 171, 172, 173, 174, 175, 177, 178, 179, 180,
        181, 182, 183, 184, 207, 208, 209, 210, 211, 9, 25, 39, 55, 89, 103,
        104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118,
        119, 120, 121, 135, 136, 137, 138, 139, 149, 150, 151, 152, 153, 168, 169,
        170, 171, 172, 173, 174, 175, 177, 178, 179, 180, 181, 182, 183, 184, 202,
        203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 240, 241, 242,
        243, 7, 9, 23, 25, 39, 55, 89, 103, 104, 105, 107, 108, 109, 110,
        111, 112, 113, 114, 115, 116, 117, 119, 120, 121, 135, 136, 137, 138, 139,
        140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 168,
        169, 183, 184, 200, 201, 202, 203, 204, 205, 206, 207, 209, 210, 211, 212,
        213, 214, 215, 216, 239, 240, 241, 242, 243, 7, 9, 23, 39, 57, 121,
        135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149,
        150, 151, 152, 153, 167, 168, 169, 170, 171, 181, 182, 183, 184, 185, 200,
        201, 202, 203, 204, 205, 206, 207, 209, 210, 211, 212, 213, 214, 215, 216,
        234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 271, 272,
        273, 274, 9, 25, 39, 55, 57, 121, 135, 136, 137, 139, 140, 141, 142,
        143, 144, 145, 146, 147, 148, 149, 151, 152, 153, 167, 168, 169, 170, 171,
        172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 200,
        201, 215, 216, 232, 233, 234, 235, 236, 237, 238, 239, 241, 242, 243, 244,
        245, 246, 247, 248, 270, 271, 272, 273, 274, 9, 23, 39, 55, 167, 168,
        169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183,
        184, 185, 199, 200, 201, 202, 203, 213, 214, 215, 216, 217, 232, 233, 234,
        235, 236, 237, 238, 239, 241, 242, 243, 244, 245, 246, 247, 248, 266, 267,
        268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 302, 303, 304, 305,
        9, 23, 25, 39, 153, 167, 168, 169, 171, 172, 173, 174, 175, 176, 177,
        178, 179, 180, 181, 183, 184, 185, 199, 200, 201, 202, 203, 204, 205, 206,
        207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 232, 233, 247, 248,
        264, 265, 266, 267, 268, 269, 270, 271, 273, 274, 275, 276, 277, 278, 279,
        280, 301, 302, 303, 9, 39, 55, 153, 183, 185, 199, 200, 201, 202, 203,
        204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 231,
        232, 233, 234, 235, 245, 246, 247, 248, 249, 264, 265, 266, 267, 268, 269,
        270, 271, 273, 274, 275, 276, 277, 278, 279, 280, 298, 299, 300, 301, 302,
        303, 304, 305, 306, 307, 308, 309, 310, 334, 335, 9, 25, 39, 41, 55,
        57, 71, 87, 185, 199, 200, 201, 203, 204, 205, 206, 207, 208, 209, 210,
        211, 212, 213, 215, 216, 217, 231, 232, 233, 234, 235, 236, 237, 238, 239,
        240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 264, 265, 279, 280, 296,
        297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311,
        312, 333, 334, 335, 336, 337, 41, 57, 71, 87, 217, 231, 232, 233, 234,
        235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249,
        263, 264, 265, 266, 267, 277, 278, 279, 280, 281, 296, 297, 298, 299, 300,
        301, 302, 303, 305, 306, 307, 308, 309, 310, 311, 312, 330, 331, 332, 333,
        334, 335, 336, 337, 338, 339, 340, 341, 342, 41, 57, 71, 87, 103, 119,
        217, 231, 232, 233, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245,
        247, 248, 249, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274,
        275, 276, 277, 278, 279, 280, 281, 296, 297, 311, 312, 328, 329, 330, 331,
        332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 363, 364,
        365, 366, 367, 368, 369, 41, 57, 73, 89, 103, 119, 249, 263, 264, 265,
        266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280,
        281, 295, 296, 297, 298, 299, 309, 310, 311, 312, 313, 328, 329, 330, 331,
        332, 333, 334, 335, 337, 338, 339, 340, 341, 342, 343, 344, 361, 362, 363,
        364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 41, 57, 73,
        89, 103, 119, 263, 264, 265, 268, 269, 270, 271, 272, 273, 274, 275, 276,
        279, 280, 281, 295, 296, 297, 298, 299, 300, 302, 303, 304, 305, 306, 308,
        309, 310, 311, 312, 313, 328, 329, 343, 344, 360, 361, 362, 363, 364, 365,
        366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 395, 396, 397, 398,
        399, 400, 41, 57, 73, 89, 103, 105, 119, 121, 135, 137, 151, 153, 167,
        169, 183, 185, 201, 215, 217, 247, 263, 269, 275, 281, 295, 296, 297, 298,
        299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313,
        328, 329, 330, 342, 343, 344, 360, 361, 362, 363, 364, 365, 366, 367, 369,
        370, 371, 372, 373, 374, 375, 376, 392, 393, 394, 395, 400, 401, 167, 201,
        217, 247, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307,
        308, 309, 310, 311, 312, 313, 327, 328, 329, 330, 342, 343, 344, 345, 359,
        360, 361, 362, 363, 364, 367, 369, 370, 371, 372, 373, 374, 375, 376, 391,
        392, 402, 403, 404, 405, 199, 201, 217, 231, 233, 247, 249, 265, 279, 295,
        296, 297, 311, 312, 313, 327, 329, 343, 345, 231, 249, 263, 265, 279, 281,
        299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 328, 329, 330, 331,
        332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 360, 361,
        375, 376, 263, 265, 281, 293, 295, 297, 298, 299, 300, 301, 302, 303, 304,
        305, 309, 311, 313, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337,
        338, 339, 340, 341, 342, 358, 359, 360, 361, 363, 364, 367, 368, 369, 370,
        371, 373, 374, 375, 376, 391, 392, 393, 394, 401, 404, 293, 295, 298, 299,
        300, 301, 302, 303, 304, 305, 309, 311, 327, 328, 329, 330, 331, 332, 336,
        337, 338, 339, 340, 341, 342, 343, 358, 359, 360, 361, 362, 363, 364, 365,
        366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 393, 394, 395,
        396, 397, 403, 405, 406, 407, 409, 298, 299, 300, 303, 304, 305, 306, 307,
        308, 328, 329, 330, 331, 332, 334, 335, 336, 337, 339, 340, 341, 342, 343,
        359, 360, 361, 365, 369, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380,
        394, 396, 398, 399, 400, 401, 404, 405, 408, 409, 410, 298, 299, 300, 301,
        302, 303, 304, 305, 306, 307, 308, 328, 329, 330, 331, 332, 333, 334, 335,
        336, 337, 338, 339, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351,
        359, 360, 362, 363, 364, 365, 368, 369, 370, 371, 374, 375, 376, 377, 378,
        379, 380, 381, 382, 383, 393, 394, 395, 396, 398, 400, 401, 402, 403, 406,
        407, 409, 410, 411, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336,
        337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351,
        358, 359, 360, 362, 363, 366, 368, 370, 373, 375, 376, 377, 378, 379, 380,
        381, 382, 383, 393, 394, 395, 396, 397, 398, 400, 401, 403, 405, 406, 407,
        408, 409, 410, 411, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332,
        333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347,
        348, 354, 355, 356, 358, 359, 362, 364, 366, 369, 371, 372, 373, 374, 375,
        376, 377, 378, 379, 389, 390, 391, 392, 393, 394, 396, 397, 399, 401, 402,
        403, 404, 405, 406, 407, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329,
        330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344,
        352, 354, 355, 358, 360, 362, 365, 367, 368, 369, 370, 371, 372, 373, 374,
        375, 385, 386, 387, 388, 389, 390, 392, 393, 395, 397, 398, 399, 400, 401,
        402, 403, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332,
        333, 334, 335, 336, 337, 338, 339, 340, 352, 356, 358, 359, 361, 362, 363,
        364, 365, 367, 368, 369, 370, 371, 384, 385, 386, 390, 391, 392, 393, 394,
        395, 396, 397, 398, 399, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329,
        330, 331, 332, 333, 334, 352, 355, 357, 358, 359, 360, 361, 362, 363, 364,
        365, 385, 387, 388, 389, 390, 391, 392, 393, 320, 321, 322, 323, 324, 325,
        326, 327, 328, 329, 330, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361,
        385, 386, 387, 388, 389, 322, 323, 324, 325, 352, 353, 354, 355, 356, 384,
        320, 321, 352, 353, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 18,
        19, 20, 21, 23, 24, 25, 39, 40, 41, 42, 43, 53, 54, 55, 56,
        57, 72, 73, 87, 88, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115,
        116, 117, 118,
};

static const char PROGMEM change_vals[1878] = {
        0xF8, 0x00, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0,
        0x00, 0xF8, 0x38, 0xC4, 0x19, 0xE0, 0x18, 0x06, 0x01, 0x02, 0x04, 0x04, 0x04, 0x02, 0x01,
        0x06, 0x18, 0xE0, 0x19, 0xC4, 0x39, 0xF0, 0x0F, 0x0F, 0xF0, 0x07, 0x08, 0x10, 0x20, 0x20,
        0x40, 0x40, 0xF0, 0x00, 0xF0, 0x40, 0x40, 0xA0, 0x20, 0x10, 0x08, 0x07, 0x01, 0x02, 0x04,
        0x05, 0x05, 0x04, 0x03, 0xC0, 0xF0, 0x80, 0xF0, 0x8F, 0x40, 0x9F, 0x00, 0x80, 0x60, 0x10,
        0x20, 0x40, 0x40, 0x40, 0x20, 0x10, 0x60, 0x80, 0x00, 0x9F, 0x40, 0x8F, 0x03, 0x0C, 0xF1,
        0x0E, 0x01, 0x01, 0x0E, 0xF1, 0x0C, 0x03, 0x7F, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x7F, 0x01, 0x02, 0x02, 0x04, 0x04, 0x3F, 0x40,
        0x9F, 0xA4, 0xA4, 0xA2, 0x42, 0x01, 0x00, 0xE0, 0x00, 0xE0, 0xFC, 0x00, 0xFF, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFC, 0x00, 0x3F, 0x38, 0xC4, 0x19,
        0xE0, 0x18, 0x06, 0x01, 0x02, 0x04, 0x04, 0x04, 0x02, 0x01, 0x06, 0x18, 0xE0, 0x19, 0xC4,
        0x38, 0xF0, 0x0F, 0x0F, 0xF0, 0x07, 0x08, 0x10, 0x20, 0x20, 0x40, 0x40, 0xF0, 0x00, 0xF0,
        0x40, 0x40, 0x20, 0x20, 0x10, 0x08, 0x07, 0x03, 0x04, 0x09, 0x0A, 0x0A, 0x0A, 0x04, 0xF8,
        0xC0, 0xF0, 0xFF, 0x8F, 0x40, 0x9F, 0x00, 0x80, 0x60, 0x10, 0x20, 0x40, 0x40, 0x40, 0x20,
        0x10, 0x60, 0x80, 0x00, 0x9F, 0x40, 0x81, 0x03, 0x0C, 0xF1, 0x0E, 0x01, 0x01, 0x0E, 0xF1,
        0x0C, 0x03, 0x7F, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x80, 0x7F, 0x01, 0x02, 0x02, 0x04, 0x04, 0xFF, 0x00, 0x3F, 0xC4, 0x04, 0x02, 0x02,
        0x01, 0x01, 0x02, 0x02, 0x01, 0xE0, 0xFF, 0xC0, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x1F, 0x38, 0xC4, 0x19, 0xE0, 0x18,
        0x06, 0x01, 0x02, 0x04, 0x04, 0x04, 0x02, 0x01, 0x06, 0x18, 0xE0, 0x19, 0xC4, 0x38, 0xF0,
        0x0F, 0x0F, 0xF0, 0x07, 0x08, 0x10, 0x20, 0x20, 0x40, 0x40, 0xF0, 0xF0, 0x40, 0x40, 0x20,
        0x20, 0x10, 0x08, 0x07, 0x0F, 0x10, 0x23, 0x2C, 0x10, 0xFC, 0xFC, 0xFC, 0xFE, 0x7F, 0x8F,
        0x40, 0x9F, 0x00, 0x80, 0x60, 0x10, 0x20, 0x40, 0x40, 0x40, 0x20, 0x10, 0x60, 0x80, 0x00,
        0x9F, 0x40, 0x80, 0x03, 0x0C, 0xF1, 0x0E, 0x01, 0x01, 0x0E, 0xF1, 0x0C, 0x03, 0x7F, 0x80,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x7F, 0x01,
        0x02, 0x02, 0x04, 0x04, 0xFF, 0x00, 0x3F, 0xC4, 0x04, 0x02, 0x02, 0x01, 0x01, 0x02, 0x02,
        0x01, 0x80, 0xFE, 0xFE, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x0F, 0x38, 0xC4, 0x19, 0xE0, 0x18,
        0x06, 0x01, 0x02, 0x04, 0x04, 0x04, 0x02, 0x01, 0x06, 0x18, 0xE0, 0x19, 0xC4, 0x38, 0xF0,
        0x0F, 0x0F, 0xF0, 0x07, 0x08, 0x10, 0x20, 0x20, 0x40, 0x40, 0xF0, 0xF0, 0x40, 0x40, 0x20,
        0x20, 0x10, 0x08, 0x07, 0x7F, 0x80, 0x9F, 0x60, 0x00, 0x00, 0xE0, 0x00, 0xFE, 0xC0, 0x7F,
        0x8F, 0x40, 0x9F, 0x00, 0x80, 0x60, 0x10, 0x20, 0x40, 0x40, 0x40, 0x20, 0x10, 0x60, 0x80,
        0x00, 0x9F, 0x40, 0x80, 0x03, 0x0C, 0xF1, 0x0E, 0x01, 0x01, 0x0E, 0xF1, 0x0C, 0x03, 0x7F,
        0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x7F,
        0x01, 0x02, 0x02, 0x04, 0x04, 0xFF, 0x00, 0xFF, 0x04, 0x04, 0x02, 0x02, 0x01, 0x07, 0x08,
        0x09, 0x06, 0xF8, 0xFE, 0xE0, 0xF0, 0xFF, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00, 0x07, 0x38, 0xC4, 0x19, 0xE0, 0x18,
        0x06, 0x01, 0x02, 0x04, 0x04, 0x04, 0x02, 0x01, 0x06, 0x18, 0xE0, 0x19, 0xC4, 0x38, 0xF0,
        0x0F, 0x0F, 0xF0, 0x07, 0x08, 0x10, 0x20, 0x20, 0x40, 0x40, 0xF0, 0xF0, 0x40, 0x40, 0x20,
        0x20, 0x10, 0x08, 0x07, 0x60, 0x9F, 0x80, 0x7F, 0x00, 0xE0, 0x80, 0xFF, 0xFF, 0x8F, 0x40,
        0x9F, 0x00, 0x80, 0x60, 0x10, 0x20, 0x40, 0x40, 0x40, 0x20, 0x10, 0x60, 0x80, 0x00, 0x9F,
        0x40, 0x80, 0x03, 0x0C, 0xF1, 0x0E, 0x01, 0x01, 0x0E, 0xF1, 0x0C, 0x03, 0x7F, 0x80, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x7F, 0x01, 0x02,
        0x02, 0x04, 0x04, 0xFF, 0x00, 0xFF, 0x04, 0x04, 0x02, 0x02, 0x01, 0x06, 0x09, 0x08, 0x07,
        0xF0, 0x00, 0xF8, 0xFC, 0x7F, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x1F, 0x00, 0x00, 0x38, 0xC4, 0x19, 0xE0, 0x18, 0x06, 0x01, 0x02,
        0x04, 0x04, 0x04, 0x02, 0x01, 0x06, 0x18, 0xE0, 0x18, 0xC4, 0x38, 0xF0, 0x0F, 0x0F, 0xF0,
        0x07, 0x08, 0x10, 0x20, 0x20, 0x40, 0x40, 0xF0, 0xF0, 0x40, 0x40, 0x20, 0x20, 0x10, 0x08,
        0x07, 0x08, 0x16, 0x11, 0xF8, 0xF8, 0xE0, 0xFF, 0xFF, 0x03, 0x8F, 0x40, 0x9F, 0x00, 0x80,
        0x60, 0x10, 0x20, 0x40, 0x40, 0x40, 0x20, 0x10, 0x60, 0x80, 0x00, 0x9F, 0x40, 0x80, 0x03,
        0x0C, 0xF1, 0x0E, 0x01, 0x01, 0x0E, 0xF1, 0x0C, 0x03, 0x7F, 0x80, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x7F, 0x01, 0x02, 0x02, 0x84, 0x64,
        0x1F, 0x80, 0x7F, 0x04, 0x04, 0x02, 0x02, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0xF8, 0x00,
        0xFE, 0xF0, 0x80, 0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0xFF, 0x00, 0x07, 0x38, 0xC4, 0x19, 0xE0, 0x18, 0x06, 0x01, 0x02, 0x04,
        0x04, 0x04, 0x02, 0x01, 0x06, 0x18, 0xE0, 0x19, 0xC4, 0x38, 0xF0, 0x0F, 0x0F, 0xF0, 0x07,
        0x08, 0x10, 0x20, 0x20, 0x40, 0x40, 0xF0, 0x00, 0xF0, 0x40, 0x40, 0x20, 0x20, 0x10, 0x08,
        0x07, 0x08, 0x16, 0x11, 0x08, 0x07, 0xE0, 0xE0, 0xC0, 0xC0, 0x7F, 0x8F, 0x40, 0x9F, 0x00,
        0x80, 0x60, 0x10, 0x20, 0x40, 0x40, 0x40, 0x20, 0x10, 0x60, 0x80, 0x00, 0x9F, 0x40, 0x80,
        0x03, 0x0C, 0xF1, 0x0E, 0x01, 0x01, 0x0E, 0xF1, 0x0C, 0x03, 0x7F, 0x80, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x7F, 0x01, 0x42, 0xA2, 0xA4,
        0xA4, 0x9F, 0x40, 0x3F, 0x04, 0x04, 0x02, 0x02, 0x01, 0x80, 0x80, 0x00, 0x00, 0xFC, 0xFC,
        0xFF, 0xFF, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0xFF, 0x00, 0x07, 0x38, 0xC4, 0x19, 0xE0, 0x18, 0x06, 0x01, 0x02, 0x04, 0x04, 0x04, 0x02,
        0x01, 0x06, 0x18, 0xE0, 0x19, 0xC4, 0x38, 0xF0, 0x0F, 0x0F, 0xF0, 0x07, 0x08, 0x10, 0x20,
        0x20, 0x40, 0x40, 0xF0, 0x00, 0xF0, 0x40, 0x40, 0x20, 0x20, 0x10, 0x08, 0x07, 0x04, 0x0A,
        0x0A, 0x0A, 0x09, 0x04, 0x03, 0x00, 0x00, 0xF0, 0xF0, 0x00, 0x80, 0xFF, 0x1F, 0x80, 0x3F,
        0x00, 0x00, 0xC0, 0x20, 0x40, 0x80, 0x80, 0x80, 0x40, 0x20, 0xC0, 0x00, 0x00, 0x3F, 0x80,
        0x00, 0x07, 0x18, 0xE3, 0x1C, 0x03, 0x03, 0x1C, 0xE3, 0x18, 0x07, 0xFE, 0x01, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xFE, 0x01, 0x02, 0x64,
        0x94, 0xA8, 0xA8, 0x9E, 0x40, 0x3E, 0x08, 0x08, 0x04, 0x04, 0x02, 0x01, 0xE0, 0xC0, 0xFF,
        0xFF, 0xFF, 0xFF, 0x7F, 0x00, 0xFF, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00,
        0xFF, 0x00, 0x03, 0x1C, 0x62, 0x8C, 0x70, 0x0C, 0x03, 0x01, 0x02, 0x02, 0x02, 0x01, 0x03,
        0x0C, 0x70, 0x8C, 0x62, 0x1C, 0xF8, 0x07, 0x07, 0xF8, 0x03, 0x04, 0x08, 0x90, 0x50, 0xA0,
        0xA0, 0x78, 0x00, 0xF8, 0x20, 0x20, 0x10, 0x10, 0x08, 0x04, 0x03, 0xFD, 0xFE, 0xFE, 0xFE,
        0xFE, 0xFD, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0,
        0x00, 0x00, 0x00, 0xE0, 0x00, 0xFC, 0xFC, 0xFF, 0x00, 0x00, 0xFF, 0x71, 0x88, 0x33, 0xC0,
        0x30, 0x0C, 0x02, 0x04, 0x08, 0x08, 0x08, 0x04, 0x02, 0x0C, 0x30, 0xC0, 0x33, 0x88, 0x70,
        0xE1, 0x1E, 0x01, 0x01, 0x1E, 0xE1, 0x8F, 0x50, 0xA0, 0xC0, 0xC0, 0x80, 0x80, 0xE0, 0xE0,
        0x80, 0x80, 0x40, 0x40, 0x20, 0x10, 0x0F, 0xFD, 0xFE, 0xFE, 0xFE, 0xFE, 0xFD, 0x00, 0x80,
        0xF0, 0xF0, 0xC7, 0x20, 0xCF, 0x00, 0xC0, 0x30, 0x08, 0x10, 0x20, 0x20, 0x20, 0x10, 0x08,
        0x30, 0xC0, 0x00, 0xCF, 0x20, 0xC3, 0x01, 0x86, 0x78, 0x07, 0x07, 0x78, 0x86, 0x01, 0x80,
        0x7F, 0x40, 0x80, 0x80, 0x80, 0x40, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x80, 0x40, 0x3F, 0xFD,
        0xFE, 0xFE, 0xFE, 0xFD, 0xFD, 0x00, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x80, 0xFC, 0xF0, 0x07,
        0x00, 0x0F, 0x0F, 0x00, 0x03, 0x00, 0x7A, 0x79, 0x00, 0x00, 0x00, 0xFC, 0x80, 0x00, 0xF8,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x18,
        0x06, 0x01, 0x02, 0x04, 0x04, 0x04, 0x02, 0x01, 0x06, 0x18, 0xE0, 0x00, 0x00, 0x7C, 0x43,
        0x43, 0x3C, 0x00, 0x00, 0x00, 0x07, 0x08, 0x00, 0xE0, 0x10, 0x20, 0x60, 0x10, 0x20, 0x40,
        0x80, 0x08, 0x03, 0x00, 0xC0, 0x30, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x01, 0x02, 0x0C, 0xF0, 0x00, 0x3F, 0x40, 0x80, 0x80, 0x40, 0x40, 0x80, 0x80, 0x80, 0x80,
        0x40, 0xC0, 0x3F, 0x00, 0x00, 0xFC, 0xFC, 0xFC, 0xFD, 0xFE, 0xFE, 0x00, 0x00, 0x00, 0x00,
        0xC0, 0x20, 0x40, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFC, 0x02, 0x05, 0x01,
        0x01, 0x02, 0x04, 0x08, 0x30, 0x40, 0x80, 0x00, 0x00, 0x00, 0xFF, 0x00, 0xF0, 0x00, 0xE0,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x80, 0x00, 0x01, 0x0E, 0xF0, 0xFD, 0xFE, 0xFF,
        0xFC, 0xFF, 0xFF, 0xFC, 0xFD, 0xFD, 0xFF, 0x80, 0x60, 0x10, 0x40, 0x40, 0x20, 0x10, 0x60,
        0x80, 0xF0, 0x0E, 0x01, 0x00, 0x02, 0x04, 0x02, 0x04, 0x00, 0x00, 0x01, 0x0E, 0xF0, 0x00,
        0x7F, 0x80, 0x00, 0xC0, 0xC0, 0xF0, 0x00, 0x00, 0x80, 0x7F, 0x40, 0x48, 0x34, 0x84, 0x78,
        0xFD, 0xFE, 0xFD, 0xFD, 0xFD, 0xFF, 0xFD, 0xFD, 0xFD, 0xFD, 0xFD, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x18, 0x06, 0x21, 0x02, 0x44,
        0x24, 0x44, 0x04, 0x22, 0x06, 0x18, 0x20, 0x20, 0x20, 0x20, 0x40, 0x80, 0x98, 0xE4, 0x04,
        0x00, 0x00, 0x3F, 0x40, 0x80, 0x00, 0x80, 0x00, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00,
        0xC0, 0x80, 0x43, 0x3C, 0x03, 0xFC, 0xFC, 0xFC, 0xFC, 0xFE, 0xFF, 0xFE, 0xFF, 0xFD, 0xFF,
        0xFE, 0xFF, 0xFE, 0xFF, 0xE0, 0x18, 0x06, 0x21, 0x02, 0x44, 0x24, 0x44, 0x04, 0x22, 0x01,
        0x06, 0x18, 0x20, 0x20, 0x20, 0x20, 0x40, 0x80, 0x98, 0xE4, 0x04, 0xF8, 0x00, 0x00, 0x00,
        0x3F, 0x40, 0x80, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x80, 0xC0, 0x80, 0x43, 0x3C, 0x03, 0x00,
        0x00, 0x00, 0x00, 0xFF, 0xFE, 0xFD, 0xFF, 0xFE, 0xFF, 0xFD, 0xFD, 0xFE, 0xFF, 0xFE, 0xFF,
        0xFC, 0xFC, 0xFC, 0xFC, 0xE0, 0x18, 0x06, 0x21, 0x02, 0x44, 0x24, 0x44, 0x04, 0x22, 0x01,
        0x06, 0x18, 0x20, 0x20, 0x20, 0x20, 0x40, 0x80, 0x98, 0xE4, 0x04, 0xF8, 0x00, 0x00, 0x00,
        0x00, 0x3F, 0x40, 0x80, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x80, 0xC0, 0x80, 0x43, 0x3C, 0x03,
        0x00, 0x00, 0x00, 0x00, 0xFF, 0xFE, 0xFD, 0xFF, 0xFE, 0xFF, 0xFD, 0xFD, 0xFE, 0xFF, 0xFE,
        0xFF, 0xFC, 0xFC, 0xFC, 0xFC, 0x06, 0x21, 0x02, 0x44, 0x24, 0x44, 0x04, 0x22, 0x01, 0x06,
        0x18, 0x20, 0x20, 0x20, 0x20, 0x40, 0x80, 0x98, 0xE4, 0x04, 0xF8, 0x00, 0x00, 0x00, 0x00,
        0x80, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x80, 0xC0, 0x80, 0x43, 0x3C, 0x03, 0x00, 0x00, 0x00,
        0x00, 0xFF, 0xFE, 0xFD, 0xFF, 0xFE, 0xFF, 0xFD, 0xFD, 0xFE, 0xFF, 0xFE, 0xFF, 0xFC, 0xFC,
        0xFC, 0xFC, 0x04, 0x22, 0x01, 0x06, 0x18, 0x20, 0x20, 0x20, 0x20, 0x40, 0x80, 0x98, 0xE4,
        0x04, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x80, 0xC0, 0x80, 0x43,
        0x3C, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFD, 0xFD, 0xFD, 0xFF, 0xFE, 0xFF, 0xFC,
        0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0x18, 0x20, 0x20, 0x20, 0x20, 0x40, 0x80, 0x98, 0xE4, 0x04,
        0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0x80, 0x43, 0x3C, 0x03, 0x00, 0x00, 0x00,
        0x00, 0xFE, 0xFF, 0xFE, 0xFF, 0xFC, 0xFC, 0xFC, 0xFC, 0x40, 0x80, 0x98, 0xE4, 0x04, 0xF8,
        0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x80, 0x43, 0x3C, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00,
        0xFC, 0xFC, 0xFC, 0xFC, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x30, 0x0F, 0x00, 0x00, 0x00, 0xFC,
        0x00, 0x00, 0x00, 0x00, 0x8E, 0x40, 0x9F, 0x80, 0x60, 0x10, 0x20, 0x40, 0x40, 0x40, 0x20,
        0x10, 0x60, 0x80, 0x98, 0x40, 0x9E, 0x03, 0x0C, 0xF1, 0x0E, 0x01, 0x01, 0x0E, 0xF1, 0x0C,
        0x03, 0x7F, 0x80, 0x80, 0x7F, 0x01, 0x02, 0x02, 0x04, 0x04, 0x1F, 0x20, 0x4F, 0x54, 0x54,
        0x4A, 0x32, 0x01,
};

uint16_t index_start = 0;
uint16_t index_end = 0;
static void change_frame_bytewise(uint8_t frame_number){
// for n changes this frame, change those bytes by change_inds and change_vals
        index_start = pgm_read_word(cumsum_inds + (frame_number-1));
        index_end = pgm_read_word(cumsum_inds + (frame_number));
        if (index_start != index_end){  // if a change in buffer
                for (uint16_t i=index_start; i < index_end; i++){
                        oled_write_raw_byte(pgm_read_byte(change_vals + i), pgm_read_word(change_inds + i));
                }
        }
}

#define ANIM_FRAME_DURATION 200 // how long each frame lasts in ms
uint32_t anim_timer = 0;
uint8_t current_frame = 0;

bool first_render = 1;

static void render_anim(void) {
	void render_first(void){
		oled_write_raw_P( frame, ANIM_SIZE);
		first_render = 0;
	}

	if (first_render){
		render_first();
	}

        if(timer_elapsed32(anim_timer) > ANIM_FRAME_DURATION) {
                anim_timer = timer_read32();
                current_frame = (current_frame + 1) % IDLE_FRAMES;
                change_frame_bytewise(current_frame);
            }
}

oled_rotation_t oled_init_user(oled_rotation_t rotation) {
  return OLED_ROTATION_270;
}

bool oled_task_user(void) {
    render_anim();
    return true;
}


#endif // OLED_DRIVER_ENABLE
